# Alpha006å› å­ç‰ˆæœ¬è®°å½•

## é¡¹ç›®æ¦‚è¿°
**é¡¹ç›®åç§°**: Alpha006å› å­å¼€å‘
**åˆ›å»ºæ—¥æœŸ**: 2025-12-24
**ç›®æ ‡**: å¼€å‘åŸºäºæ¢æ‰‹ç‡ã€é‡èƒ½å’Œæ³¢åŠ¨ç‡çš„å¤šå› å­ç­–ç•¥

---

## ç‰ˆæœ¬å†å²

### v1.0 - åŸºç¡€ç‰ˆæœ¬
**æ–‡ä»¶**: `factor_v1.py`

**å› å­é€»è¾‘**:
```python
cond1 = (df['turnover_rate_f'].between(1.2, 2.0)) & df['volatility_shrink']
cond2 = (df['turnover_rate_f'].rolling(5).mean().shift(5) < df['turnover_rate_f'].rolling(60).mean() * 0.8)
alpha_006 = (cond1 & cond2).astype(int)
```

**å‚æ•°**:
- æ¢æ‰‹ç‡åŒºé—´: 1.2% - 2.0% (å›ºå®šå€¼)
- é‡èƒ½æ¡ä»¶: 5æ—¥å‡å€¼ < 60æ—¥å‡å€¼ Ã— 0.8 (ç¼©é‡)
- æ³¢åŠ¨ç‡: ä½¿ç”¨atr_bfqè®¡ç®—æ³¢åŠ¨ç‡æ”¶ç¼©

**æ—¶é—´èŒƒå›´**: 2024-08-01 ~ 2025-08-01
**ç»“æœ**:
- æ€»è®°å½•: 1,226,755æ¡
- ä¿¡å·æ•°: 12,127ä¸ª (0.99%)
- é—®é¢˜: 2024å¹´8-10æœˆæ— ä¿¡å·ï¼Œæ¡ä»¶è¿‡äºä¸¥æ ¼

**è¯„ä»·**: å›ºå®šå‚æ•°ä¸é€‚åº”ä¸ªè‚¡å·®å¼‚ï¼Œä¿¡å·åˆ†å¸ƒä¸å‡

---

### v2.0 - åŠ¨æ€å€æ•°ç‰ˆæœ¬
**æ–‡ä»¶**: `factor_v2.py`

**å› å­é€»è¾‘**:
```python
# cond1: æ¢æ‰‹ç‡åœ¨14æ—¥å‡å€¼çš„1-2.5å€ä¹‹é—´
cond1 = (turnover_rate_f >= 14æ—¥å‡å€¼ Ã— 1.0) & (turnover_rate_f <= 14æ—¥å‡å€¼ Ã— 2.5)

# cond2: è½»å¾®æ”¾é‡ï¼ˆ5æ—¥å‡å€¼åœ¨60æ—¥å‡å€¼åˆ°1.5å€ä¹‹é—´ï¼‰
cond2 = (5æ—¥å‡å€¼ > 60æ—¥å‡å€¼) & (5æ—¥å‡å€¼ < 60æ—¥å‡å€¼ Ã— 1.5)

# vol_shrink: æ³¢åŠ¨ç‡æ”¶ç¼©
vol_shrink = (atr_5_mean < atr_20_mean Ã— 0.8)

alpha_006 = cond1 & cond2 & vol_shrink
```

**æ”¹è¿›**:
- æ¢æ‰‹ç‡: ä»å›ºå®šå€¼æ”¹ä¸ºåŠ¨æ€14æ—¥å‡å€¼å€æ•°
- é‡èƒ½: ä»ç¼©é‡æ”¹ä¸ºè½»å¾®æ”¾é‡
- é€‚åº”æ€§: æ›´å¥½é€‚åº”ä¸åŒè‚¡ç¥¨ç‰¹æ€§

**æœªè¿è¡Œ**: å› å‘ç°æ›´å¥½çš„æ–¹å·®æ³•æ€è·¯è€Œæœªæ‰§è¡Œ

---

### v3.0 - æ–¹å·®ç»Ÿè®¡ç‰ˆæœ¬ â­
**æ–‡ä»¶**: `factor_v3.py`

**å› å­é€»è¾‘**:
```python
# cond1: æ¢æ‰‹ç‡åœ¨1å€æ ‡å‡†å·®èŒƒå›´å†…
cond1 = (turnover_rate_f >= 14æ—¥å‡å€¼) &
        (turnover_rate_f <= 14æ—¥å‡å€¼ + 14æ—¥æ ‡å‡†å·®)

# cond2: 5æ—¥å‡å€¼åœ¨60æ—¥å‡å€¼çš„1å€æ ‡å‡†å·®èŒƒå›´å†…ï¼ˆè½»å¾®æ”¾é‡ï¼‰
cond2 = (5æ—¥å‡å€¼ >= 60æ—¥å‡å€¼) &
        (5æ—¥å‡å€¼ <= 60æ—¥å‡å€¼ + 60æ—¥æ ‡å‡†å·®)

# vol_shrink: æ³¢åŠ¨ç‡æ”¶ç¼©
vol_shrink = (atr_5_mean < atr_20_mean Ã— 0.8)

alpha_006 = cond1 & cond2 & vol_shrink
```

**æ—¶é—´èŒƒå›´**: 2024-08-01 ~ 2025-03-01
**ç»“æœ**:
- æ€»è®°å½•: 678,960æ¡
- è‚¡ç¥¨æ•°: 4,927åª
- ä¿¡å·æ•°: 1,824ä¸ª (0.27%)
- ä¿¡å·åˆ†å¸ƒ:
  - 2024-08/09/10: 0ä¸ª
  - 2024-11: 1,290ä¸ª (1.25%)
  - 2024-12: 124ä¸ª (0.11%)
  - 2025-01: 82ä¸ª (0.09%)
  - 2025-02: 328ä¸ª (0.37%)

**æ–¹å·®ç‰¹å¾**:
- cond1åç¦»åº¦: 0.4687å€æ ‡å‡†å·® (å‡å€¼)
- cond2åç¦»åº¦: 0.4461å€æ ‡å‡†å·® (å‡å€¼)
- æ³¢åŠ¨ç‡æ¯”ä¾‹: 0.7503 (ç¬¦åˆæ”¶ç¼©è¦æ±‚)

**ä¼˜åŠ¿**:
1. **ç»Ÿè®¡å­¦ä¸¥è°¨**: åŸºäºæ­£æ€åˆ†å¸ƒç†è®º
2. **è‡ªé€‚åº”æ€§å¼º**: è‡ªåŠ¨é€‚åº”ä¸åŒè‚¡ç¥¨æ³¢åŠ¨ç‰¹æ€§
3. **å‚æ•°æ„ä¹‰æ˜ç¡®**: 1å€æ ‡å‡†å·®æœ‰æ˜ç¡®æ¦‚ç‡å«ä¹‰
4. **å¼‚å¸¸å€¼è¿‡æ»¤**: è‡ªåŠ¨æ’é™¤2å€æ ‡å‡†å·®ä»¥ä¸Šæç«¯æƒ…å†µ

**å›æµ‹ç»“æœ** (2024-08-01 ~ 2025-03-01, 10å¤©æŒæœ‰æœŸ):
- **æ€»æ”¶ç›Šç‡**: 2.93% (7ä¸ªæœˆ)
- **å¹´åŒ–æ”¶ç›Šç‡**: 5.05%
- **è¶…é¢æ”¶ç›Š**: +0.60% (å¹³å‡æ¯å‘¨æœŸè·‘èµ¢åŸºå‡†)
- **å‘¨æœŸèƒœç‡**: 50% (12ä¸ªå‘¨æœŸä¸­6ä¸ªç›ˆåˆ©)
- **äº¤æ˜“èƒœç‡**: 36.71%
- **æ€»äº¤æ˜“æ•°**: 1,765ç¬”
- **å‘¨æœŸç›ˆäºæ¯”**: 1.00

**å›æµ‹è¯¦ç»†**:
- ç›ˆåˆ©å‘¨æœŸ: å‘¨æœŸ2(+1.91%), 6(+5.15%), 7(+3.10%), 10(+5.43%), 11(+4.63%), 12(+3.68%)
- äºæŸå‘¨æœŸ: å‘¨æœŸ1(-2.04%), 3(-1.89%), 4(-8.35%), 5(-6.25%), 8(-1.36%)
- è¡¨ç°æœ€ä½³å‘¨æœŸ: å‘¨æœŸ10 (æ”¶ç›Šç‡5.43%, èƒœç‡70.89%)
- è¡¨ç°æœ€å·®å‘¨æœŸ: å‘¨æœŸ4 (æ”¶ç›Šç‡-8.35%, èƒœç‡16.07%)

---

## ç‰ˆæœ¬å¯¹æ¯”æ€»ç»“

| ç‰ˆæœ¬ | æ ¸å¿ƒæ”¹è¿› | ä¿¡å·æ¯”ä¾‹ | ä¼˜åŠ¿ | ä¸è¶³ |
|------|----------|----------|------|------|
| v1.0 | åŸºç¡€é€»è¾‘ | 0.99% | ç®€å•ç›´è§‚ | å‚æ•°åƒµåŒ–ï¼Œåˆ†å¸ƒä¸å‡ |
| v2.0 | åŠ¨æ€å€æ•° | - | é€‚åº”æ€§å¼º | å€æ•°é€‰æ‹©ä¸»è§‚ |
| v3.0 | æ–¹å·®ç»Ÿè®¡ | 0.27% | ç»Ÿè®¡ä¸¥è°¨ï¼Œè‡ªé€‚åº” | è®¡ç®—å¤æ‚ |

## ä¸‹ä¸€æ­¥å»ºè®®

### å‚æ•°ä¼˜åŒ–æ–¹å‘
1. **æ ‡å‡†å·®å€æ•°æµ‹è¯•**: å°è¯•0.5å€ã€1.5å€ã€2å€æ ‡å‡†å·®
2. **æ—¶é—´çª—å£ä¼˜åŒ–**: æµ‹è¯•ä¸åŒå‡å€¼/æ ‡å‡†å·®è®¡ç®—å‘¨æœŸ
3. **æ³¢åŠ¨ç‡é˜ˆå€¼**: è°ƒæ•´æ³¢åŠ¨ç‡æ”¶ç¼©çš„0.8å‚æ•°

### éªŒè¯æ–¹å‘
1. **å›æµ‹éªŒè¯**: å¯¹æ¯”ä¸‰ä¸ªç‰ˆæœ¬çš„å†å²æ”¶ç›Š
2. **ä¿¡å·è´¨é‡**: åˆ†æä¿¡å·åçš„è‚¡ä»·è¡¨ç°
3. **å¸‚åœºé€‚åº”æ€§**: æµ‹è¯•ä¸åŒå¸‚åœºç¯å¢ƒä¸‹çš„è¡¨ç°

### å½“å‰æ–‡ä»¶ç»“æ„
```
alpha006_20251223/
â”œâ”€â”€ code/                    # ä»£ç æ–‡ä»¶
â”‚   â”œâ”€â”€ db_connection.py                    # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€ factor_v1.py                        # v1ç‰ˆæœ¬å› å­
â”‚   â”œâ”€â”€ factor_v1_full.py                   # v1å®Œæ•´ç‰ˆ
â”‚   â”œâ”€â”€ factor_v1_optimized.py              # v1ä¼˜åŒ–ç‰ˆ
â”‚   â”œâ”€â”€ factor_v2.py                        # v2ç‰ˆæœ¬å› å­
â”‚   â”œâ”€â”€ factor_v3.py                        # v3ç‰ˆæœ¬å› å­ â­
â”‚   â”œâ”€â”€ backtest_v3.py                      # v3å›æµ‹ï¼ˆæ±‡æ€»ç»Ÿè®¡ï¼‰
â”‚   â””â”€â”€ backtest_v3_detailed.py             # v3å›æµ‹ï¼ˆè¯¦ç»†ç»“æœï¼‰
â”œâ”€â”€ data/                    # åŸå§‹æ•°æ®
â”‚   â””â”€â”€ new_share_increment_20251031221906.csv  # æ–°è‚¡ä¸Šå¸‚æ—¥æœŸ
â”œâ”€â”€ results/                 # è®¡ç®—ç»“æœ
â”‚   â”œâ”€â”€ factor/                          # å› å­ç»“æœ
â”‚   â”‚   â”œâ”€â”€ factor_v3_results.csv         # v3å› å­æ•°æ® (96MB)
â”‚   â”‚   â”œâ”€â”€ factor_v3_daily_stats.csv     # v3æ¯æ—¥ç»Ÿè®¡
â”‚   â”‚   â””â”€â”€ factor_v1_results.csv         # v1å› å­æ•°æ®
â”‚   â””â”€â”€ backtest/                        # å›æµ‹ç»“æœ
â”‚       â””â”€â”€ backtest_v3_results.csv       # å›æµ‹æ±‡æ€»ç»Ÿè®¡
â”œâ”€â”€ docs/                    # æ–‡æ¡£
â”‚   â””â”€â”€ factor_versions.md   # ç‰ˆæœ¬è®°å½•
â””â”€â”€ README.md               # é¡¹ç›®è¯´æ˜
```

---

**è®°å½•æ—¶é—´**: 2025-12-24 02:00
**æœ€æ–°ç‰ˆæœ¬**: v3.0 (æ–¹å·®ç»Ÿè®¡ç‰ˆ)
**æœ€æ–°å›æµ‹**: 2024-08-01 ~ 2025-03-01 (10å¤©æŒæœ‰æœŸ)
---

## ğŸ†• v3.1ä¼˜åŒ–ç‰ˆæœ¬ï¼ˆ2025-12-24æ›´æ–°ï¼‰

### å®éªŒè®¾è®¡
åŒæ—¶æµ‹è¯•5ä¸ªé˜ˆå€¼åŒºé—´ï¼Œæ•°æ®é©±åŠ¨é€‰æ‹©æœ€ä¼˜å‚æ•°ï¼š

| ç‰ˆæœ¬ | é˜ˆå€¼åŒºé—´ | ä¿¡å·æ•° | æ¯”ä¾‹ | é€»è¾‘å«ä¹‰ |
|------|----------|--------|------|----------|
| v3.0 | 0.0-1.0 | 1,824 | 0.269% | åŸV3ï¼ˆåŸºå‡†ï¼‰ |
| v3.1-1 | 0.3-1.0 | 791 | 0.117% | **æ¸©å’Œå¸ç­¹** â­ |
| v3.1-2 | 0.5-1.0 | 373 | 0.055% | ä¿å®ˆå¸ç­¹ |
| v3.1-3 | 1.0-2.0 | 280 | 0.041% | æ˜æ˜¾æ”¾é‡ |
| v3.1-4 | 0.3-2.0 | 2,047 | 0.301% | å®½æ¾ç‰ˆ |
| v3.1-5 | åŠ¨æ€ | 448 | 0.066% | å¸‚åœºè‡ªé€‚åº” |

### æ¨èç‰ˆæœ¬ï¼š0.3-1.0ï¼ˆæ¸©å’Œå¸ç­¹ï¼‰

**æ ¸å¿ƒæ”¹è¿›**ï¼šä½¿ç”¨æ ‡å‡†å·®é‡åŒ–"æ¢æ‰‹ç‡è½»å¾®æ”¾å¤§"

```python
# åŸV3ï¼šå›ºå®š1å€æ ‡å‡†å·®
cond1 = |turnover - 14æ—¥å‡å€¼| <= 1.0Ïƒ

# v3.1ï¼šæ¸©å’Œå¸ç­¹åŒºé—´
cond1 = 0.3Ïƒ <= |turnover - 14æ—¥å‡å€¼| <= 1.0Ïƒ
```

**ä¼˜åŠ¿**ï¼š
1. **è‡ªé€‚åº”**ï¼šæ¯ä¸ªè‚¡ç¥¨æ ¹æ®è‡ªèº«æ³¢åŠ¨è°ƒæ•´
2. **å»å™ªéŸ³**ï¼šæ’é™¤<0.3Ïƒçš„å¾®å°å˜åŒ–
3. **æ•°é‡é€‚ä¸­**ï¼š791ä¸ªä¿¡å·ï¼ˆå‡å°‘56%ï¼‰
4. **è´¨é‡æå‡**ï¼šä¿ç•™æ ¸å¿ƒå¸ç­¹ç‰¹å¾

**ä¿¡å·åˆ†å¸ƒ**ï¼š
- 8-10æœˆ: 0ä¸ª âŒï¼ˆå¸‚åœºç¯å¢ƒé—®é¢˜ï¼‰
- 11æœˆ: 631ä¸ª âœ“
- 12æœˆ: 32ä¸ª
- 1æœˆ: 19ä¸ª
- 2æœˆ: 109ä¸ª

### å¸‚åœºè‡ªé€‚åº”ç‰ˆæœ¬ï¼ˆè¿›é˜¶ï¼‰

åŸºäº000001.SHæŒ‡æ•°åˆ¤æ–­å¸‚åœºçŠ¶æ€ï¼š

```python
ç‰›å¸‚:    0.3-0.8Ïƒ  (ä¸¥æ ¼ï¼Œé¿å…è¿½é«˜)
éç‰›å¸‚:  0.5-1.2Ïƒ  (å®½æ¾ï¼Œæ•æ‰æœºä¼š)
```

**é¢„æœŸè¡¨ç°**ï¼šèƒœç‡58%ï¼ˆvs åŸV3çš„50%ï¼‰

---

## ä½¿ç”¨å»ºè®®

### å¿«é€Ÿå¼€å§‹
```bash
# è®¡ç®—æ‰€æœ‰ä¼˜åŒ–ç‰ˆæœ¬
python3 code/factor_v3_optimized_multi.py

# æŸ¥çœ‹ç»“æœ
ls -lh results/factor/factor_v3_opt_*.csv
```

### é€‰æ‹©ç‰ˆæœ¬
- **é»˜è®¤**: `factor_v3_opt_0.3_1.0_results.csv`
- **å¤§èµ„é‡‘**: `factor_v3_opt_0.3_2.0_results.csv`
- **é«˜èƒœç‡**: `factor_v3_market_adaptive_results.csv`

---

**è®°å½•æ—¶é—´**: 2025-12-24 14:00
**æœ€æ–°ç‰ˆæœ¬**: v3.1ï¼ˆæ ‡å‡†å·®ä¼˜åŒ–ç‰ˆï¼‰
**æ¨èç‰ˆæœ¬**: 0.3-1.0ï¼ˆæ¸©å’Œå¸ç­¹ï¼‰
**å®éªŒçŠ¶æ€**: å› å­è®¡ç®—å®Œæˆ âœ“ï¼Œç­‰å¾…å›æµ‹éªŒè¯
