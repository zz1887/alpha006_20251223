# 🚨 每次工作必读 - 强制执行

## ⚠️ 开始工作前

### 必须完成的3个步骤

**步骤1: 查看当前状态**
```bash
# 查看要修改的文件
head -5 [文件路径]

# 查看文件夹架构
cat [文件夹路径]/ARCHITECTURE.md
```

**步骤2: 理解依赖关系**
- 这个文件依赖什么？
- 哪些文件依赖这个文件？
- 修改会影响什么？

**步骤3: 记录修改计划**
- 要修改什么？
- 需要更新哪些文档？
- 验证命令是什么？

---

## 🔧 工作中

### 代码修改后，立即执行

**第一步: 更新文件注释**
```python
"""
文件input(依赖外部什么): [更新依赖]
文件output(提供什么): [更新输出]
文件pos(系统局部地位): [更新地位]

[原有说明...]
"""
```

**第二步: 更新文件夹架构**
```bash
# 编辑 ARCHITECTURE.md
vim [文件夹路径]/ARCHITECTURE.md

# 更新内容:
# 职责: [是否变化？]
# 依赖: [是否变化？]
# 输出: [是否变化？]
```

**第三步: 检查根目录README**
```bash
# 如果架构变化，更新README
vim /home/zcy/alpha006_20251223/README.md
```

**第四步: 检查策略文档**
```bash
# 如果涉及策略，更新策略文档
vim STRATEGY_GUIDE.md
vim QUICK_START.md
vim README_STRATEGY.md
```

---

## ✅ 工作结束后

### 必须运行的验证命令

**验证1: 文件注释检查**
```bash
# 查看所有修改文件的前5行
head -5 [文件路径1]
head -5 [文件路径2]
...
```

**验证2: 架构说明检查**
```bash
# 查看所有相关文件夹的架构说明
cat [文件夹1]/ARCHITECTURE.md
cat [文件夹2]/ARCHITECTURE.md
...
```

**验证3: 一致性检查**
```bash
# 确认所有文档相互一致
# 1. 注释中的依赖 = 实际依赖
# 2. 架构中的职责 = 实际功能
# 3. 文档中的描述 = 实际实现
```

**验证4: 完整性检查**
```bash
# 检查是否所有需要的文档都已更新
find . -name "ARCHITECTURE.md" | wc -l  # 应该是7
ls -1 *.md | wc -l  # 检查根目录文档
```

---

## 🎯 完成标准

### 只有满足以下所有条件，才能标记任务完成

- [ ] 代码逻辑正确
- [ ] 文件头部注释已更新
- [ ] 文件夹 ARCHITECTURE.md 已更新
- [ ] 根目录 README 已更新（如有架构变更）
- [ ] 策略文档已更新（如涉及策略）
- [ ] 所有验证命令通过
- [ ] 文档之间100%一致

---

## ❌ 违规后果

### 如果跳过文档更新

**短期后果**:
- 下次修改时找不到依赖关系
- 不知道文件的作用
- 无法理解架构

**长期后果**:
- 项目文档完全失效
- 无法维护和扩展
- 技术债务爆炸

**最终后果**:
- 项目无法使用
- 需要重写所有文档
- 浪费大量时间

---

## 📋 每日工作流程

### 上午开始工作
1. 阅读本文件（30秒）
2. 查看昨天的工作（1分钟）
3. 确认所有文档一致（1分钟）

### 修改代码时
1. 修改代码
2. **立即**更新文档（不要等）
3. 验证一致性
4. 继续下一步

### 下午结束工作
1. 检查今天所有修改（5分钟）
2. 确认所有文档已更新（5分钟）
3. 运行完整验证（2分钟）
4. 记录工作日志（1分钟）

---

## 💡 记住

### 3个"必须"

1. **必须**在修改代码后立即更新文档
2. **必须**在任务结束前验证所有文档
3. **必须**确保文档和代码100%一致

### 3个"不要"

1. **不要**说"等会再更新文档"
2. **不要**说"这个修改很小，不用更新"
3. **不要**说"下次一起更新"

### 3个"立即"

1. **立即**更新文件注释
2. **立即**更新文件夹架构
3. **立即**验证一致性

---

## 🎓 学习资源

### 必读文档
1. `README.md` - 开发规范章节
2. `DEVELOPMENT_STANDARDS.md` - 详细规范
3. `MAINTENANCE_CHECKLIST.md` - 维护清单
4. `CLAUDE_CODE_DISCIPLINE.md` - 自律机制

### 必看文件夹
1. `config/` - ARCHITECTURE.md
2. `scripts/` - ARCHITECTURE.md
3. `core/` - ARCHITECTURE.md
4. `factors/` - ARCHITECTURE.md

---

## 🏆 成功标准

### 优秀的表现
- ✅ 每次修改都更新文档
- ✅ 文档和代码完全一致
- ✅ 无需他人提醒
- ✅ 成为自然习惯

### 失败的表现
- ❌ 经常忘记更新文档
- ❌ 文档和代码不一致
- ❌ 需要他人提醒
- ❌ 视文档为负担

---

## 🎯 最终目标

**让文档更新成为代码修改的自然组成部分**

就像:
- 写代码要写注释
- 提交要写commit message
- 修改要更新文档

**这3件事是不可分割的！**

---

**记住这句话**:
> "没有更新文档的代码修改，等于没有完成"

---

**版本**: v1.0
**状态**: 强制执行
**适用**: 每次工作前必须阅读

**最后更新**: 2025-12-31
