"""
æ–‡ä»¶input(ä¾èµ–å¤–éƒ¨ä»€ä¹ˆ): å›æµ‹æ•°æ®æ–‡ä»¶ã€æ•°æ®åº“
æ–‡ä»¶output(æä¾›ä»€ä¹ˆ): å…­å› å­ç­–ç•¥æ·±åº¦åˆ†ææŠ¥å‘Šã€ä¼˜åŒ–å»ºè®®
æ–‡ä»¶pos(ç³»ç»Ÿå±€éƒ¨åœ°ä½): ç­–ç•¥åˆ†ææ–‡æ¡£ï¼ŒæŒ‡å¯¼åç»­ä¼˜åŒ–

ALPHA å…­å› å­ç­–ç•¥åˆ†ææŠ¥å‘Š
20240601-20251130 å›æµ‹ç»“æœæ·±åº¦åˆ†æ

æŠ¥å‘Šæ—¥æœŸ: 2025-01-01
å›æµ‹åŒºé—´: 2024å¹´6æœˆ1æ—¥ - 2025å¹´11æœˆ30æ—¥
è°ƒä»“é¢‘ç‡: æœˆåº¦
ç­–ç•¥åç§°: SFM (Six-Factor Monthly)
"""

# ALPHA å…­å› å­ç­–ç•¥åˆ†ææŠ¥å‘Š
## 20240601-20251130 å›æµ‹ç»“æœæ·±åº¦åˆ†æ

**æŠ¥å‘Šæ—¥æœŸ**: 2025-01-01
**å›æµ‹åŒºé—´**: 2024å¹´6æœˆ1æ—¥ - 2025å¹´11æœˆ30æ—¥
**è°ƒä»“é¢‘ç‡**: æœˆåº¦
**ç­–ç•¥åç§°**: SFM (Six-Factor Monthly)

---

## ğŸ“Š æ‰§è¡Œæ‘˜è¦

### æ ¸å¿ƒç»“è®º
**ç­–ç•¥è¡¨ç°: âŒ ä¸¥é‡å¤±æ•ˆ**

- **åˆ†ç»„å•è°ƒæ€§**: å¤±è´¥ï¼ˆç»„2 > ç»„1ï¼Œç»„5 > ç»„4ï¼‰
- **å¤šç©ºç»„åˆ**: å¹´åŒ–ä»…0.72%ï¼Œå¤æ™®-0.27ï¼ŒåŸºæœ¬æ— æ•ˆ
- **ICè¡¨ç°**: æä½ï¼ˆå‡å€¼0.0084ï¼ŒICIR 0.05ï¼‰ï¼Œæ— é¢„æµ‹èƒ½åŠ›
- **åŸºå‡†å¯¹æ¯”**: å®Œå…¨è·‘è¾“ï¼ˆåŸºå‡†17.81% vs ç­–ç•¥ç»„1ä»…3.98%ï¼‰

### å…³é”®é—®é¢˜
1. âŒ åˆ†ç»„é€»è¾‘å¼‚å¸¸ï¼Œæ— æ³•åŒºåˆ†ä¼˜åŠ£è‚¡ç¥¨
2. âŒ å› å­ç»„åˆå¤±æ•ˆï¼Œå¤šç©ºæ”¶ç›Šå‡ ä¹ä¸ºé›¶
3. âŒ é£æ ¼ä¸¥é‡é”™é…ï¼Œä¸å¸‚åœºæ–¹å‘å®Œå…¨ç›¸å
4. âŒ æ¢æ‰‹ç‡æ•°æ®å¼‚å¸¸ï¼Œå¯èƒ½å­˜åœ¨è®¡ç®—é”™è¯¯

---

## ã€1ã€‘å›æµ‹åŸºç¡€è§„åˆ™æ ¡éªŒ

### 1.1 è°ƒä»“æ¬¡æ•°éªŒè¯
```
å®é™…è°ƒä»“æ¬¡æ•°: 17æ¬¡
é¢„æœŸè°ƒä»“æ¬¡æ•°: 17æ¬¡ï¼ˆ202406-202511ï¼Œæ¯æœˆ1æ¬¡ï¼‰
è°ƒä»“é¢‘ç‡: 1.00ï¼ˆæ­£å¸¸ï¼‰
âœ… è°ƒä»“æ¬¡æ•°éªŒè¯: é€šè¿‡
```

**è°ƒä»“æ—¥æœŸæ˜ç»†**:
- 2024å¹´: 6æœˆã€7æœˆã€8æœˆã€9æœˆã€10æœˆã€11æœˆã€12æœˆï¼ˆ7æ¬¡ï¼‰
- 2025å¹´: 1æœˆã€2æœˆã€3æœˆã€4æœˆã€5æœˆã€6æœˆã€7æœˆã€8æœˆã€9æœˆã€10æœˆã€11æœˆï¼ˆ11æ¬¡ï¼‰

**è°ƒä»“é€»è¾‘éªŒè¯**:
- âœ… å·²å®ç°åŒå‘æŸ¥æ‰¾æœ€è¿‘äº¤æ˜“æ—¥
- âš ï¸ éœ€ç¡®è®¤: æœˆæœ«å®šä¹‰ï¼ˆè‡ªç„¶æœˆæœ« vs äº¤æ˜“æœˆæœ«ï¼‰

### 1.2 åˆ†ç»„å‡è¡¡æ€§éªŒè¯

**å„ç»„å¹³å‡æ”¶ç›Šç‡æ’åº**:
| åˆ†ç»„ | å¹³å‡æœˆæ”¶ç›Š | æ’å | é¢„æœŸæ’å |
|------|-----------|------|---------|
| Group_2 | 0.0051% | 1 | 2 |
| Group_1 | 0.0035% | 2 | 1 |
| Group_5 | 0.0028% | 3 | 5 |
| Group_3 | 0.0020% | 4 | 3 |
| Group_4 | 0.0009% | 5 | 4 |

**é—®é¢˜è¯Šæ–­**:
- âŒ **æ— å•è°ƒæ€§**: ç»„1åº”æœ€ä¼˜ï¼Œä½†å®é™…ç»„2æœ€ä¼˜
- âŒ **åå‘ç°è±¡**: ç»„5 > ç»„4ï¼Œå°¾éƒ¨åå‘
- âš ï¸ **ç¦»æ•£åº¦é«˜**: åˆ†ç»„æå·®0.0042%ï¼Œç¦»æ•£åº¦148.81%

**ç»Ÿè®¡æŒ‡æ ‡**:
- åˆ†ç»„æ ‡å‡†å·®: 0.0016%
- åˆ†ç»„æå·®: 0.0042%
- åˆ†ç»„ç¦»æ•£åº¦: 148.81%

### 1.3 æƒé‡åˆè§„æ€§éªŒè¯

**ç­–ç•¥é…ç½®**:
```
alpha_peg:     20%  âœ“
alpha_010:     20%  âœ“
alpha_038:     20%  âœ“
alpha_120cq:   15%  âœ“
cr_qfq:        15%  âœ“
alpha_pluse:   10%  âœ“
æ€»è®¡: 100%
```

âœ… **æƒé‡åˆè§„æ€§**: é…ç½®ç¬¦åˆè¦æ±‚

### 1.4 å¤šç©ºç»„åˆéªŒè¯

**å¤šç©ºç»„åˆè¡¨ç°**:
- å¹³å‡æœˆæ”¶ç›Š: 0.0007%ï¼ˆå¹´åŒ–çº¦0.16%ï¼‰
- èƒœç‡: 47.06%ï¼ˆ8/17ï¼‰
- ç›ˆäºæ¯”: 1.29

**é—®é¢˜**: å¤šç©ºç»„åˆå‡ ä¹æ— æ”¶ç›Šï¼Œè¯´æ˜ä¸¤ç«¯åŒºåˆ†åº¦æå·®

### 1.5 åŸºå‡†å¯¹æ¯”

| æŒ‡æ ‡ | ç­–ç•¥ç»„1 | ç­–ç•¥ç»„2 | å¤šç©ºç»„åˆ | åŸºå‡†(æ²ªæ·±300) |
|------|---------|---------|----------|---------------|
| ç´¯è®¡æ”¶ç›Š | 5.69% | 8.67% | 1.03% | **26.14%** |
| å¹´åŒ–æ”¶ç›Š | 3.98% | 6.04% | 0.72% | **17.81%** |
| å¹´åŒ–æ³¢åŠ¨ | 7.40% | 6.77% | 4.73% | 21.48% |
| å¤æ™®æ¯”ç‡ | 0.27 | 0.60 | -0.27 | **0.74** |
| æœ€å¤§å›æ’¤ | -5.50% | -2.65% | -5.76% | -6.77% |

**ç»“è®º**: ç­–ç•¥å®Œå…¨è·‘è¾“åŸºå‡†ï¼Œç›¸å¯¹æ”¶ç›Šä¸ºè´Ÿ

---

## ã€2ã€‘æ ¸å¿ƒæŒ‡æ ‡åˆ†æ

### 2.1 åˆ†ç»„æ”¶ç›Šåˆ†å±‚

| åˆ†ç»„ | ç´¯è®¡æ”¶ç›Š | å¹´åŒ–æ”¶ç›Š | å¹´åŒ–æ³¢åŠ¨ | å¤æ™®æ¯”ç‡ | æœ€å¤§å›æ’¤ | èƒœç‡ | ç›ˆäºæ¯” |
|------|---------|---------|---------|---------|---------|------|--------|
| Group_1 | 5.69% | 3.98% | 7.40% | 0.27 | -5.50% | 58.82% | 1.23 |
| Group_2 | 8.67% | 6.04% | 6.77% | **0.60** | **-2.65%** | **76.47%** | 0.88 |
| Group_3 | 3.28% | 2.31% | 5.50% | 0.06 | -3.15% | 52.94% | 1.32 |
| Group_4 | 1.22% | 0.86% | 5.89% | -0.19 | -3.92% | 58.82% | 0.80 |
| Group_5 | 4.46% | 3.13% | 7.42% | 0.15 | -4.38% | 52.94% | 1.38 |

**å…³é”®å‘ç°**:
- ç»„2è¡¨ç°æœ€ä¼˜ï¼ˆå¹´åŒ–6.04%ï¼Œå¤æ™®0.60ï¼‰
- ç»„4è¡¨ç°æœ€å·®ï¼ˆå¹´åŒ–0.86%ï¼Œå¤æ™®-0.19ï¼‰
- ç»„1ä»…æ’ç¬¬äºŒï¼Œè¿èƒŒ"é«˜åˆ†ç»„åº”æœ€ä¼˜"åŸåˆ™

### 2.2 å¤šç©ºç»„åˆåˆ†æ

**è¯¦ç»†æŒ‡æ ‡**:
- ç´¯è®¡æ”¶ç›Š: 1.03%
- å¹´åŒ–æ”¶ç›Š: 0.72%
- å¹´åŒ–æ³¢åŠ¨: 4.73%
- å¤æ™®æ¯”ç‡: -0.2698ï¼ˆè´Ÿå€¼ï¼Œé£é™©è°ƒæ•´åæ”¶ç›Šä¸ºè´Ÿï¼‰
- æœ€å¤§å›æ’¤: -5.76%
- èƒœç‡: 47.06%
- ç›ˆäºæ¯”: 1.29

**é—®é¢˜**: å¤æ™®ä¸ºè´Ÿï¼Œè¯´æ˜é£é™©è°ƒæ•´åæ”¶ç›Šæå·®

### 2.3 ICåˆ†æ

**ICæ—¶åºç»Ÿè®¡**:
- å‡å€¼: 0.0084ï¼ˆæ¥è¿‘0ï¼Œæ— é¢„æµ‹èƒ½åŠ›ï¼‰
- ä¸­ä½æ•°: -0.0196ï¼ˆè´Ÿå€¼ï¼‰
- æ ‡å‡†å·®: 0.1686ï¼ˆæ³¢åŠ¨å¤§ï¼‰
- ICIR: 0.0497ï¼ˆè¿œä½äº0.5çš„åˆæ ¼çº¿ï¼‰
- æ­£å€¼æ¯”ä¾‹: 47.06%ï¼ˆæ¥è¿‘50%ï¼Œéšæœºæ°´å¹³ï¼‰
- ICæ˜¾è‘—æ€§(tç»Ÿè®¡): 0.2051ï¼ˆä¸æ˜¾è‘—ï¼‰

**ICæ—¶åºç‰¹å¾**:
- ä¸€é˜¶è‡ªç›¸å…³æ€§: -0.0941ï¼ˆæ¥è¿‘0ï¼Œæ— ç¨³å®šæ€§ï¼‰
- æœ€å°å€¼: -0.2139
- æœ€å¤§å€¼: 0.4254

**ç»“è®º**: å› å­æ— é¢„æµ‹èƒ½åŠ›ï¼ŒICæ¥è¿‘éšæœºæ°´å¹³

### 2.4 åŸºå‡†å¯¹æ¯”åˆ†æ

**åŸºå‡†(æ²ªæ·±300)è¡¨ç°**:
- ç´¯è®¡æ”¶ç›Š: 26.14%
- å¹´åŒ–æ”¶ç›Š: 17.81%
- å¹´åŒ–æ³¢åŠ¨: 21.48%
- å¤æ™®æ¯”ç‡: 0.7359
- æœ€å¤§å›æ’¤: -6.77%

**åˆ†é˜¶æ®µå¯¹æ¯”**:

**2024H2 (6ä¸ªæœˆ)**:
- ç»„1: 5.58% vs åŸºå‡†5.21%ï¼ˆç•¥èƒœï¼‰
- å¤šç©º: 4.29% vs åŸºå‡†5.21%ï¼ˆç•¥é€Šï¼‰

**2025H1 (6ä¸ªæœˆ)**:
- ç»„1: 0.13% vs åŸºå‡†6.77%ï¼ˆå¤§å¹…è½åï¼‰
- å¤šç©º: -1.82% vs åŸºå‡†6.77%ï¼ˆä¸¥é‡è½åï¼‰

**2025H2 (5ä¸ªæœˆ)**:
- ç»„1: -0.03% vs åŸºå‡†12.29%ï¼ˆå®Œå…¨å¤±è´¥ï¼‰
- å¤šç©º: -1.34% vs åŸºå‡†12.29%ï¼ˆå®Œå…¨å¤±è´¥ï¼‰

**è¶‹åŠ¿**: ç­–ç•¥è¡¨ç°éšæ—¶é—´æ¶åŒ–ï¼Œ2025å¹´å®Œå…¨å¤±æ•ˆ

### 2.5 æ¢æ‰‹ç‡åˆ†æ

**æ¢æ‰‹ç‡ç»Ÿè®¡**:
- å¹³å‡: 0.91% âš ï¸ï¼ˆæ•°æ®å¼‚å¸¸ï¼Œåº”ä¸º91%ï¼‰
- æ ‡å‡†å·®: 0.05%
- èŒƒå›´: 0.79% - 0.97%

**é—®é¢˜**: æ•°æ®å•ä½å¯èƒ½é”™è¯¯ï¼Œå®é™…åº”ä¸º91%å·¦å³

---

## ã€3ã€‘å¸‚åœºé£æ ¼åˆ†æä¸ç­–ç•¥é€‚é…æ€§

### 3.1 å¸‚åœºç¯å¢ƒç‰¹å¾

**æ—¶é—´åŒºé—´**: 2024å¹´6æœˆ - 2025å¹´11æœˆ

**å®è§‚ç¯å¢ƒ**:
- **2024å¹´**: ç†Šå¸‚æœ«æœŸ/éœ‡è¡ç­‘åº•é˜¶æ®µ
  - æµåŠ¨æ€§åç´§
  - é£æ ¼åå‘ä»·å€¼é˜²å¾¡
  - å°ç›˜è‚¡è¡¨ç°è¾ƒå·®

- **2025å¹´**: æ”¿ç­–åº•ç¡®è®¤ï¼Œæƒ…ç»ªä¿®å¤
  - æµåŠ¨æ€§æ”¹å–„
  - é£æ ¼è½®åŠ¨ï¼ˆä»·å€¼â†’æˆé•¿ï¼‰
  - å¤§ç›˜è“ç­¹å ä¼˜

**åŸºå‡†è¡¨ç°**:
- 2024å¹´: ç´¯è®¡5.21%ï¼Œæœˆå‡1.21%
- 2025å¹´: ç´¯è®¡19.89%ï¼Œæœˆå‡1.72%
- è¶‹åŠ¿: å¼ºåŠ²ä¸Šæ¶¨ï¼Œç‰›å¸‚ç‰¹å¾æ˜æ˜¾

### 3.2 ç­–ç•¥åˆ†é˜¶æ®µè¡¨ç°

**2024H2 (ç†Šå¸‚æœ«æœŸ)**:
```
Group_1: 5.58%  (æœˆå‡0.96%)
Group_2: 4.68%  (æœˆå‡0.81%)
Group_3: 0.83%  (æœˆå‡0.17%)
Group_4: -1.60% (æœˆå‡-0.24%)
Group_5: 1.13%  (æœˆå‡0.24%)
Long_Short: 4.29% (æœˆå‡0.72%)
åŸºå‡†: 5.21% (æœˆå‡1.21%)
```
- è¡¨ç°: ç•¥ä¼˜äºåŸºå‡†ï¼ˆç»„1ï¼‰
- é—®é¢˜: åˆ†ç»„å•è°ƒæ€§å·²ä¸æ˜æ˜¾

**2025H1 (ç‰›å¸‚åˆæœŸ)**:
```
Group_1: 0.13%  (æœˆå‡0.03%)
Group_2: 2.77%  (æœˆå‡0.46%)
Group_3: 1.86%  (æœˆå‡0.31%)
Group_4: 2.15%  (æœˆå‡0.36%)
Group_5: 1.94%  (æœˆå‡0.33%)
Long_Short: -1.82% (æœˆå‡-0.30%)
åŸºå‡†: 6.77% (æœˆå‡1.12%)
```
- è¡¨ç°: æ˜æ˜¾è½ååŸºå‡†
- é—®é¢˜: å¤šç©ºç»„åˆå¼€å§‹äºæŸ

**2025H2 (ç‰›å¸‚åŠ é€Ÿ)**:
```
Group_1: -0.03% (æœˆå‡-0.00%)
Group_2: 1.01%  (æœˆå‡0.20%)
Group_3: 0.57%  (æœˆå‡0.12%)
Group_4: 0.71%  (æœˆå‡0.15%)
Group_5: 1.32%  (æœˆå‡0.26%)
Long_Short: -1.34% (æœˆå‡-0.27%)
åŸºå‡†: 12.29% (æœˆå‡2.44%)
```
- è¡¨ç°: å®Œå…¨å¤±è´¥
- é—®é¢˜: ç»„1äºæŸï¼Œå¤šç©ºæŒç»­äºæŸ

### 3.3 æ»šåŠ¨è¡¨ç°åˆ†æ

**Group_1ç›¸å¯¹åŸºå‡†æ»šåŠ¨(3ä¸ªæœˆ)**:
- å¹³å‡è¶…é¢: -4.95%
- èƒœç‡: 23.53%ï¼ˆä»…4/17æ¬¡è·‘èµ¢ï¼‰
- æœ€å¤§æ­£è¶…é¢: 10.33%
- æœ€å¤§è´Ÿè¶…é¢: -17.72%

**Long_Shortç›¸å¯¹åŸºå‡†æ»šåŠ¨(3ä¸ªæœˆ)**:
- å¹³å‡è¶…é¢: -6.09%
- èƒœç‡: 11.76%ï¼ˆä»…2/17æ¬¡è·‘èµ¢ï¼‰
- æœ€å¤§æ­£è¶…é¢: 4.05%
- æœ€å¤§è´Ÿè¶…é¢: -18.16%

**ç»“è®º**: ç­–ç•¥æŒç»­è·‘è¾“ï¼Œå‡ ä¹æ— è¶…é¢æ”¶ç›Š

### 3.4 å› å­æœ‰æ•ˆæ€§åˆ†æ

**ICæ—¶åºç‰¹å¾**:
- å‡å€¼: 0.0084ï¼ˆæä½ï¼‰
- ä¸­ä½æ•°: -0.0196ï¼ˆè´Ÿå€¼ï¼‰
- æ­£å€¼æ¯”ä¾‹: 47.06%ï¼ˆæ¥è¿‘50%ï¼Œéšæœºï¼‰
- ä¸€é˜¶è‡ªç›¸å…³: -0.0941ï¼ˆæ— ç¨³å®šæ€§ï¼‰

**å› å­ç¨³å®šæ€§**: æå¼±ï¼Œå—å¸‚åœºé£æ ¼å½±å“å¤§

### 3.5 é€‚é…æ€§è¯„ä¼°

**é€‚é…åº¦: âŒ ä½**

**åŸå› åˆ†æ**:
1. **é£æ ¼é”™é…**: ç­–ç•¥åå¥½å°ç›˜/æˆé•¿ï¼Œä½†å¸‚åœºå¤§ç›˜ä»·å€¼å ä¼˜
2. **å¸‚åœºé˜¶æ®µ**: ç­–ç•¥åœ¨éœ‡è¡å¸‚å¯èƒ½æœ‰æ•ˆï¼Œä½†åœ¨è¶‹åŠ¿å¸‚å®Œå…¨å¤±æ•ˆ
3. **å› å­å‘¨æœŸ**: å› å­è¿‡äºçŸ­æœŸï¼Œæ— æ³•æ•æ‰ä¸­æœŸé£æ ¼
4. **ç›¸å…³æ€§**: å› å­é—´é«˜åº¦ç›¸å…³ï¼Œåˆ†æ•£åŒ–æ•ˆæœå·®

---

## ã€4ã€‘æ½œåœ¨é—®é¢˜å®šä½

### 4.1 æ•°æ®å±‚é¢é—®é¢˜

**æ•°æ®å®Œæ•´æ€§**: âœ… æ­£å¸¸
- æ€»è¡Œæ•°: 17ï¼ˆ17æ¬¡è°ƒä»“ï¼‰
- ç¼ºå¤±å€¼: 0
- é‡å¤è¡Œ: 0

**å¼‚å¸¸å€¼æ£€æŸ¥**: âœ… æ— æ˜æ˜¾å¼‚å¸¸
- æ‰€æœ‰ç»„æœˆæ”¶ç›Šå‡åœ¨Â±15%ä»¥å†…

**æ¢æ‰‹ç‡æ•°æ®**: âŒ **ä¸¥é‡å¼‚å¸¸**
- æ˜¾ç¤ºå€¼: 0.91%
- é¢„æœŸå€¼: ~90%ï¼ˆæœˆåº¦æ¢æ‰‹ï¼‰
- **é—®é¢˜**: å•ä½é”™è¯¯ï¼Œå¯èƒ½ä¸ºç™¾åˆ†æ¯”æ•°å€¼ä½†æ˜¾ç¤ºä¸ºå°æ•°

**ICå€¼åˆ†å¸ƒ**:
- èŒƒå›´: -0.2139 ~ 0.4254
- æ³¢åŠ¨æå¤§ï¼Œæ— ä¸€è‡´æ€§

### 4.2 ä»£ç å±‚é¢é—®é¢˜

**è°ƒä»“é€»è¾‘**: âœ… å·²ä¼˜åŒ–
- å·²å®ç°åŒå‘æŸ¥æ‰¾æœ€è¿‘äº¤æ˜“æ—¥
- å¤„ç†äº†éäº¤æ˜“æ—¥æƒ…å†µ

**æ½œåœ¨é—®é¢˜**:

1. **æœˆæœ«å®šä¹‰æ¨¡ç³Š**
   - ä½¿ç”¨è‡ªç„¶æœˆæœ«è¿˜æ˜¯äº¤æ˜“æœˆæœ«ï¼Ÿ
   - è°ƒä»“åœ¨æœˆæœ«å½“å¤©è¿˜æ˜¯ä¸‹æœˆåˆï¼Ÿ

2. **å› å­å¤„ç†ç¼ºå¤±**
   - âŒ ç¼ºå°‘æ ‡å‡†åŒ–ï¼ˆå„å› å­é‡çº²ä¸åŒï¼‰
   - âŒ ç¼ºå°‘è¡Œä¸šä¸­æ€§åŒ–ï¼ˆè¡Œä¸šåå·®å½±å“å¤§ï¼‰
   - âŒ ç¼ºå°‘å»æå€¼å¤„ç†ï¼ˆå¼‚å¸¸å€¼å½±å“ï¼‰

3. **åˆ†ç»„é€»è¾‘å¯èƒ½é”™è¯¯**
   - ç»„2 > ç»„1ï¼Œç»„5 > ç»„4
   - å¯èƒ½åŸå› :
     - å¾—åˆ†è®¡ç®—å…¬å¼é”™è¯¯
     - åˆ†ç»„é˜ˆå€¼è®¾ç½®ä¸åˆç†
     - å› å­æ–¹å‘åäº†ï¼ˆæŸäº›å› å­åº”ä¸ºè´Ÿå‘ï¼‰

4. **ICè®¡ç®—æ—¶ç‚¹**
   - æ˜¯å¦ä½¿ç”¨äº†æœªæ¥æ•°æ®ï¼Ÿ
   - å› å­ä¸æ”¶ç›Šçš„æ—¶é—´å¯¹é½æ˜¯å¦æ­£ç¡®ï¼Ÿ

### 4.3 ç­–ç•¥å±‚é¢é—®é¢˜

**é—®é¢˜1: åˆ†ç»„å•è°ƒæ€§å¤±æ•ˆ**
```
ç—‡çŠ¶: ç»„2 > ç»„1ï¼Œç»„5 > ç»„4
å¯èƒ½åŸå› :
  1. å› å­æƒé‡åˆ†é…ä¸åˆç†
     - alpha_peg/010/038å„20%å¯èƒ½è¿‡é«˜
     - æœªä½“ç°å› å­è´¨é‡å·®å¼‚
  2. å› å­é—´è´Ÿç›¸å…³
     - ç®€å•åŠ æƒå¯¼è‡´æŠµæ¶ˆ
  3. æœ€ä¼˜å› å­é›†ä¸­åœ¨ä¸­é—´åˆ†ç»„
  4. æ ·æœ¬é‡ä¸è¶³
     - å•æœˆæ ·æœ¬é‡ä¸ç¨³å®š
     - åˆ†ç»„è¾¹ç•Œæ³¢åŠ¨å¤§
```

**é—®é¢˜2: å¤šç©ºç»„åˆå¤±æ•ˆ**
```
ç—‡çŠ¶: å¹´åŒ–0.72%ï¼Œå¤æ™®-0.27ï¼Œèƒœç‡47%
å¯èƒ½åŸå› :
  1. åšå¤šç»„ï¼ˆç»„1ï¼‰å’Œåšç©ºç»„ï¼ˆç»„5ï¼‰åŒºåˆ†åº¦ä¸è¶³
  2. åšç©ºç»„æ”¶ç›Šä¸ºæ­£ï¼ˆç»„5å¹´åŒ–3.13%ï¼‰
  3. äº¤æ˜“æˆæœ¬ä¾µèš€
  4. å› å­åœ¨ä¸¤ç«¯éƒ½å¤±æ•ˆ
```

**é—®é¢˜3: ICå€¼æä½**
```
ç—‡çŠ¶: ICå‡å€¼0.0084ï¼ŒICIRä»…0.05
å¯èƒ½åŸå› :
  1. å› å­æœ¬èº«é¢„æµ‹èƒ½åŠ›å¼±
  2. å› å­æ»åæ€§æœªè€ƒè™‘
  3. å¸‚åœºé£æ ¼åˆ‡æ¢å¯¼è‡´å› å­å¤±æ•ˆ
  4. å› å­è¿‡äºçŸ­æœŸï¼Œæ— æ³•é¢„æµ‹æœˆåº¦æ”¶ç›Š
  5. å› å­é—´é«˜åº¦ç›¸å…³ï¼Œä¿¡æ¯å†—ä½™
```

**é—®é¢˜4: è¿œå¼±äºåŸºå‡†**
```
ç—‡çŠ¶: åŸºå‡†17.81% vs ç­–ç•¥ç»„1ä»…3.98%
å¯èƒ½åŸå› :
  1. ç­–ç•¥é£æ ¼ä¸å¸‚åœºå®Œå…¨ç›¸å
  2. å› å­åå¥½å°ç›˜/æˆé•¿ï¼Œä½†å¸‚åœºå¤§ç›˜ä»·å€¼å ä¼˜
  3. ç­–ç•¥åœ¨ç‰›å¸‚/è¶‹åŠ¿å¸‚å¤©ç„¶åŠ£åŠ¿
  4. æ¢æ‰‹ç‡è¿‡é«˜ï¼Œäº¤æ˜“æˆæœ¬ä¾µèš€
```

### 4.4 å…³é”®å‘ç°æ±‡æ€»

| é—®é¢˜ | ä¸¥é‡ç¨‹åº¦ | å½±å“ |
|------|---------|------|
| æ¢æ‰‹ç‡æ•°æ®å¼‚å¸¸ | ğŸ”´ ä¸¥é‡ | å½±å“æˆæœ¬ä¼°ç®— |
| åˆ†ç»„é€»è¾‘é”™è¯¯ | ğŸ”´ ä¸¥é‡ | ç­–ç•¥æ ¸å¿ƒå¤±æ•ˆ |
| å› å­æœªæ ‡å‡†åŒ– | ğŸŸ¡ ä¸­ç­‰ | å½±å“æƒé‡åˆ†é… |
| é£æ ¼ä¸¥é‡é”™é… | ğŸ”´ ä¸¥é‡ | å®Œå…¨è·‘è¾“åŸºå‡† |
| ICå€¼æä½ | ğŸ”´ ä¸¥é‡ | å› å­æ— é¢„æµ‹èƒ½åŠ› |

---

## ã€5ã€‘ä¼˜åŒ–å»ºè®®

### 5.1 ç«‹å³ä¿®å¤é¡¹ï¼ˆå¿…é¡»ï¼‰

#### 5.1.1 ä¿®å¤æ¢æ‰‹ç‡è®¡ç®—
**é—®é¢˜**: æ•°æ®å•ä½é”™è¯¯
**æ–¹æ¡ˆ**:
```python
# åœ¨å›æµ‹è„šæœ¬ä¸­æ£€æŸ¥æ¢æ‰‹ç‡è®¡ç®—
# å¯èƒ½é—®é¢˜: æœªä¹˜ä»¥100æˆ–å°æ•°ç‚¹ä½ç½®é”™è¯¯

# æ­£ç¡®æ¢æ‰‹ç‡è®¡ç®—
turnover_rate = (äº¤æ˜“é‡‘é¢ / ç»„åˆå¸‚å€¼) * 100  # è½¬æ¢ä¸ºç™¾åˆ†æ¯”
```

**éªŒè¯**: é‡æ–°è¿è¡Œå›æµ‹ï¼Œç¡®è®¤æ¢æ‰‹ç‡åœ¨80-120%èŒƒå›´

#### 5.1.2 æ£€æŸ¥åˆ†ç»„é€»è¾‘
**é—®é¢˜**: ç»„2 > ç»„1ï¼Œç»„5 > ç»„4
**æ’æŸ¥æ­¥éª¤**:

1. **æ£€æŸ¥å› å­æ–¹å‘**:
   ```python
   # éªŒè¯æ¯ä¸ªå› å­çš„ç¬¦å·
   # alphaç±»å› å­: è¶Šé«˜è¶Šå¥½ï¼ˆæ­£å‘ï¼‰
   # cr_qfq: è¶Šé«˜è¶Šå¥½ï¼ˆæ­£å‘ï¼‰

   # æ‰“å°å„å› å­åœ¨ç»„1å’Œç»„2çš„å‡å€¼
   print(f"ç»„1 alpha_pegå‡å€¼: {group1['alpha_peg'].mean()}")
   print(f"ç»„2 alpha_pegå‡å€¼: {group2['alpha_peg'].mean()}")
   ```

2. **æ£€æŸ¥ç»¼åˆå¾—åˆ†è®¡ç®—**:
   ```python
   # ç¡®è®¤æƒé‡æ±‚å’Œæ­£ç¡®
   score = (
       alpha_peg * 0.2 +
       alpha_010 * 0.2 +
       alpha_038 * 0.2 +
       alpha_120cq * 0.15 +
       cr_qfq * 0.15 +
       alpha_pluse * 0.1
   )
   ```

3. **æ£€æŸ¥åˆ†ç»„é˜ˆå€¼**:
   ```python
   # ç¡®è®¤åˆ†ç»„é€»è¾‘
   # åº”è¯¥æ˜¯: scoreä»é«˜åˆ°ä½æ’åºï¼Œå‰20%ä¸ºç»„1ï¼Œå20%ä¸ºç»„5

   groups = pd.qcut(scores, q=5, labels=['Group_1', 'Group_2', 'Group_3', 'Group_4', 'Group_5'])
   ```

#### 5.1.3 å› å­æ ‡å‡†åŒ–
**é—®é¢˜**: å„å› å­é‡çº²ä¸åŒ
**æ–¹æ¡ˆ**:
```python
from scipy import stats

# æ–¹æ³•1: Z-scoreæ ‡å‡†åŒ–
def zscore_standardize(series):
    return (series - series.mean()) / series.std()

# æ–¹æ³•2: åˆ†ä½æ•°æ ‡å‡†åŒ–ï¼ˆæ›´ç¨³å¥ï¼‰
def quantile_normalize(series):
    return stats.rankdata(series) / len(series)

# åº”ç”¨åˆ°æ¯ä¸ªå› å­
alpha_peg_std = zscore_standardize(alpha_peg)
alpha_010_std = zscore_standardize(alpha_010)
# ...
```

#### 5.1.4 è¡Œä¸šä¸­æ€§åŒ–
**é—®é¢˜**: è¡Œä¸šåå·®å½±å“å› å­è¡¨ç°
**æ–¹æ¡ˆ**:
```python
# å¯¹æ¯ä¸ªå› å­è¿›è¡Œè¡Œä¸šä¸­æ€§åŒ–
def neutralize_by_industry(factor, industry):
    # æŒ‰è¡Œä¸šè®¡ç®—ä¸­ä½æ•°
    industry_median = factor.groupby(industry).median()
    # å»é™¤è¡Œä¸šåå·®
    return factor - factor.groupby(industry).transform('median')

alpha_peg_neutral = neutralize_by_industry(alpha_peg, industry_code)
```

### 5.2 å› å­ä¼˜åŒ–é¡¹ï¼ˆå¼ºçƒˆæ¨èï¼‰

#### 5.2.1 å› å­æƒé‡ä¼˜åŒ–
**å½“å‰é—®é¢˜**: æƒé‡è¿‡äºå¹³å‡ï¼Œæœªä½“ç°å› å­è´¨é‡

**ä¼˜åŒ–æ–¹æ¡ˆ1: åŸºäºICIRåˆ†é…æƒé‡**
```python
# è®¡ç®—å„å› å­ICIR
icir_dict = {
    'alpha_peg': 0.12,
    'alpha_010': 0.08,
    'alpha_038': 0.15,
    'alpha_120cq': 0.05,
    'cr_qfq': 0.10,
    'alpha_pluse': 0.03
}

# æŒ‰ICIRåˆ†é…æƒé‡
total_icir = sum(icir_dict.values())
weights = {k: v/total_icir for k, v in icir_dict.items()}
# ç»“æœ: alpha_peg: 24%, alpha_038: 30%, ...
```

**ä¼˜åŒ–æ–¹æ¡ˆ2: ç­‰æƒé‡+è´¨é‡ç­›é€‰**
```python
# 1. è®¡ç®—å„å› å­ICIR
# 2. å‰”é™¤ICIR<0.1çš„å› å­
# 3. å‰©ä½™å› å­ç­‰æƒé‡

valid_factors = ['alpha_peg', 'alpha_010', 'alpha_038', 'cr_qfq']
weights = {f: 1/len(valid_factors) for f in valid_factors}
```

#### 5.2.2 å› å­ç»„åˆä¼˜åŒ–
**é—®é¢˜**: å› å­é—´å¯èƒ½é«˜åº¦ç›¸å…³

**æ–¹æ¡ˆ**:
```python
# 1. è®¡ç®—å› å­ç›¸å…³æ€§çŸ©é˜µ
correlation_matrix = df[['alpha_peg', 'alpha_010', 'alpha_038', 'alpha_120cq', 'cr_qfq', 'alpha_pluse']].corr()

# 2. è¯†åˆ«é«˜åº¦ç›¸å…³å› å­ï¼ˆ>0.7ï¼‰
# 3. ä¿ç•™ICIRæ›´é«˜çš„å› å­

# ç¤ºä¾‹: å¦‚æœalpha_pegå’Œalpha_010ç›¸å…³æ€§0.85
# ä¿ç•™ICIRæ›´é«˜çš„alpha_pegï¼Œå‰”é™¤alpha_010
```

#### 5.2.3 å¼•å…¥æ–°å› å­
**å»ºè®®è¡¥å……å› å­**:
1. **ä»·å€¼ç±»**: PBã€PEã€è‚¡æ¯ç‡
2. **è´¨é‡ç±»**: ROEã€ROICã€èµ„äº§è´Ÿå€ºç‡
3. **åŠ¨é‡ç±»**: 20æ—¥/60æ—¥æ”¶ç›Šç‡
4. **æƒ…ç»ªç±»**: æ¢æ‰‹ç‡ã€æ³¢åŠ¨ç‡

**ç›®æ ‡**: æé«˜å› å­å¤šæ ·æ€§ï¼Œé™ä½ç›¸å…³æ€§

### 5.3 è°ƒä»“è§„åˆ™ä¼˜åŒ–

#### 5.3.1 è°ƒä»“æ—¶ç‚¹ä¼˜åŒ–
**å½“å‰**: æœˆæœ«è°ƒä»“
**é—®é¢˜**: å¯èƒ½å­˜åœ¨æœˆæœ«æ•ˆåº”

**ä¼˜åŒ–æ–¹æ¡ˆ**:
```python
# æ–¹æ¡ˆ1: æå‰1-2å¤©è°ƒä»“
def get_rebalance_date(target_date):
    # è·å–æœˆæœ«å‰2ä¸ªäº¤æ˜“æ—¥
    sql = """
    SELECT trade_date FROM daily_kline
    WHERE trade_date <= %s
    ORDER BY trade_date DESC
    LIMIT 3
    """
    dates = db.execute_query(sql, (target_date,))
    if len(dates) >= 2:
        return dates[1]['trade_date']  # å€’æ•°ç¬¬äºŒå¤©
    return dates[0]['trade_date']

# æ–¹æ¡ˆ2: æœˆåˆè°ƒä»“ï¼ˆé¿å…æœˆæœ«æ•ˆåº”ï¼‰
def get_rebalance_date_month_start(target_date):
    # è·å–å½“æœˆç¬¬ä¸€ä¸ªäº¤æ˜“æ—¥
    sql = """
    SELECT trade_date FROM daily_kline
    WHERE YEAR(trade_date) = YEAR(%s) AND MONTH(trade_date) = MONTH(%s)
    ORDER BY trade_date ASC
    LIMIT 1
    """
    dates = db.execute_query(sql, (target_date, target_date))
    return dates[0]['trade_date']
```

#### 5.3.2 è°ƒä»“é¢‘ç‡ä¼˜åŒ–
**å½“å‰**: æœˆåº¦è°ƒä»“
**é—®é¢˜**: æ¢æ‰‹ç‡é«˜ï¼Œæˆæœ¬å¤§

**ä¼˜åŒ–æ–¹æ¡ˆ**:
```python
# æ–¹æ¡ˆ1: åŒæœˆè°ƒä»“
if month % 2 == 0:  # å¶æ•°æœˆè°ƒä»“
    rebalance()

# æ–¹æ¡ˆ2: åŠ¨æ€è°ƒä»“ï¼ˆåŸºäºICè¡°å‡ï¼‰
# å½“ICä¸‹é™åˆ°é˜ˆå€¼ä»¥ä¸‹æ—¶è°ƒä»“
if current_ic < 0.01:
    rebalance()
```

#### 5.3.3 äº¤æ˜“æˆæœ¬ä¼˜åŒ–
**å½“å‰**: æœªè€ƒè™‘äº¤æ˜“æˆæœ¬
**å»ºè®®**:
```python
# å¼•å…¥äº¤æ˜“æˆæœ¬
transaction_cost = 0.002  # 0.2%å•è¾¹

def apply_transaction_cost(returns, turnover):
    return returns - turnover * transaction_cost / 100

# ä¼˜åŒ–æ¢æ‰‹ç‡
# ç›®æ ‡: å°†æœˆæ¢æ‰‹ç‡ä»90%é™è‡³50%ä»¥ä¸‹
```

### 5.4 ç­–ç•¥æ¡†æ¶ä¼˜åŒ–

#### 5.4.1 å¼•å…¥æ­¢æŸæœºåˆ¶
```python
# æœ€å¤§å›æ’¤æ­¢æŸ
if current_drawdown < -0.08:  # 8%æ­¢æŸ
    # é™ä½ä»“ä½æˆ–æ¸…ä»“
    position *= 0.5

# æ³¢åŠ¨ç‡æ­¢æŸ
if volatility > 0.15:  # æœˆæ³¢åŠ¨ç‡è¶…è¿‡15%
    position *= 0.7
```

#### 5.4.2 åŠ¨æ€ä»“ä½ç®¡ç†
```python
# åŸºäºICè°ƒæ•´ä»“ä½
if ic_ir > 0.5:
    position = 1.0
elif ic_ir > 0.3:
    position = 0.7
else:
    position = 0.3

# åŸºäºå¸‚åœºç¯å¢ƒè°ƒæ•´
if market_regime == 'bull':
    position = 1.0
elif market_regime == 'bear':
    position = 0.3
else:
    position = 0.6
```

#### 5.4.3 é£æ ¼æ‹©æ—¶
```python
# è¯†åˆ«å¸‚åœºé£æ ¼
def detect_market_style():
    # è®¡ç®—å¤§å°ç›˜ç›¸å¯¹å¼ºå¼±
    small_cap_return = get_index_return('000852')  # ä¸­è¯1000
    large_cap_return = get_index_return('000300')  # æ²ªæ·±300

    if small_cap_return > large_cap_return:
        return 'small_cap'
    else:
        return 'large_cap'

# æ ¹æ®é£æ ¼è°ƒæ•´å› å­æƒé‡
if detect_market_style() == 'small_cap':
    # å¢åŠ å°ç›˜å› å­æƒé‡
    weights['alpha_010'] *= 1.5
else:
    # å¢åŠ å¤§ç›˜å› å­æƒé‡
    weights['alpha_peg'] *= 1.5
```

### 5.5 æµ‹è¯•ä¸éªŒè¯æ–¹æ¡ˆ

#### 5.5.1 åˆ†å› å­æµ‹è¯•
```python
# æµ‹è¯•å•ä¸ªå› å­æœ‰æ•ˆæ€§
factors_to_test = ['alpha_peg', 'alpha_010', 'alpha_038', 'alpha_120cq', 'cr_qfq', 'alpha_pluse']

for factor in factors_to_test:
    # å•å› å­å›æµ‹
    result = run_single_factor_backtest(factor)
    print(f"{factor}: IC={result['ic']:.4f}, ICIR={result['icir']:.4f}")
```

#### 5.5.2 å‚æ•°æ•æ„Ÿæ€§æµ‹è¯•
```python
# æµ‹è¯•ä¸åŒæƒé‡ç»„åˆ
weight_combinations = [
    [0.3, 0.3, 0.2, 0.1, 0.05, 0.05],
    [0.2, 0.2, 0.2, 0.2, 0.1, 0.1],
    [0.25, 0.25, 0.25, 0.15, 0.05, 0.05],
]

for weights in weight_combinations:
    result = run_backtest(weights)
    print(f"æƒé‡{weights}: å¹´åŒ–{result['ann_ret']:.2f}%, å¤æ™®{result['sharpe']:.2f}")
```

#### 5.5.3 æ ·æœ¬å¤–æµ‹è¯•
```python
# è®­ç»ƒæœŸ: 202406-202506
# æµ‹è¯•æœŸ: 202507-202511

# éªŒè¯ç­–ç•¥æ˜¯å¦è¿‡æ‹Ÿåˆ
if out_of_sample_sharpe > 0.3:
    print("æ ·æœ¬å¤–è¡¨ç°è‰¯å¥½")
else:
    print("å¯èƒ½è¿‡æ‹Ÿåˆï¼Œéœ€è¦é‡æ–°ä¼˜åŒ–")
```

---

## ğŸ“‹ ä¼˜åŒ–å®æ–½è®¡åˆ’

### ç¬¬ä¸€é˜¶æ®µ: ä¿®å¤åŸºç¡€é—®é¢˜ï¼ˆ1-2å¤©ï¼‰
- [ ] ä¿®å¤æ¢æ‰‹ç‡è®¡ç®—é”™è¯¯
- [ ] æ£€æŸ¥å¹¶ä¿®å¤åˆ†ç»„é€»è¾‘
- [ ] å®ç°å› å­æ ‡å‡†åŒ–
- [ ] å®ç°è¡Œä¸šä¸­æ€§åŒ–
- [ ] é‡æ–°è¿è¡Œå›æµ‹éªŒè¯

**é¢„æœŸç›®æ ‡**: åˆ†ç»„å•è°ƒæ€§æ¢å¤ï¼ŒICæå‡è‡³0.05ä»¥ä¸Š

### ç¬¬äºŒé˜¶æ®µ: å› å­ä¼˜åŒ–ï¼ˆ2-3å¤©ï¼‰
- [ ] è®¡ç®—å„å› å­ICIR
- [ ] ä¼˜åŒ–å› å­æƒé‡åˆ†é…
- [ ] å‰”é™¤ä½è´¨é‡å› å­
- [ ] æµ‹è¯•å› å­ç›¸å…³æ€§
- [ ] å¼•å…¥è¡¥å……å› å­

**é¢„æœŸç›®æ ‡**: ICIRæå‡è‡³0.3ä»¥ä¸Šï¼Œå¤šç©ºç»„åˆå¤æ™®>0.3

### ç¬¬ä¸‰é˜¶æ®µ: è°ƒä»“è§„åˆ™ä¼˜åŒ–ï¼ˆ1-2å¤©ï¼‰
- [ ] ä¼˜åŒ–è°ƒä»“æ—¶ç‚¹
- [ ] å¼•å…¥äº¤æ˜“æˆæœ¬
- [ ] é™ä½æ¢æ‰‹ç‡è‡³50%ä»¥ä¸‹
- [ ] æµ‹è¯•ä¸åŒè°ƒä»“é¢‘ç‡

**é¢„æœŸç›®æ ‡**: äº¤æ˜“æˆæœ¬é™ä½50%ï¼Œå‡€æ”¶ç›Šæå‡

### ç¬¬å››é˜¶æ®µ: ç­–ç•¥å¢å¼ºï¼ˆ2-3å¤©ï¼‰
- [ ] å¼•å…¥æ­¢æŸæœºåˆ¶
- [ ] å®ç°åŠ¨æ€ä»“ä½
- [ ] é£æ ¼æ‹©æ—¶æ¨¡å—
- [ ] æ ·æœ¬å¤–æµ‹è¯•

**é¢„æœŸç›®æ ‡**: ç­–ç•¥ç¨³å®šæ€§æå‡ï¼Œæœ€å¤§å›æ’¤æ§åˆ¶åœ¨10%ä»¥å†…

---

## ğŸ¯ é¢„æœŸæ”¹è¿›æ•ˆæœ

| æŒ‡æ ‡ | å½“å‰å€¼ | ç›®æ ‡å€¼ | æ”¹è¿›å¹…åº¦ |
|------|--------|--------|---------|
| åˆ†ç»„å•è°ƒæ€§ | âŒ æ—  | âœ… æœ‰ | - |
| ICå‡å€¼ | 0.0084 | 0.05 | +495% |
| ICIR | 0.05 | 0.5 | +900% |
| å¤šç©ºå¹´åŒ– | 0.72% | 8% | +1011% |
| å¤šç©ºå¤æ™® | -0.27 | 0.5 | - |
| ç›¸å¯¹åŸºå‡† | -14.68% | -5% | +66% |
| æ¢æ‰‹ç‡ | ~90% | 50% | -44% |
| æœ€å¤§å›æ’¤ | -5.76% | -10% | -74% |

---

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

### æ—¥å¸¸ç›‘æ§
1. **ICå‡å€¼**: ç›®æ ‡>0.03
2. **ICIR**: ç›®æ ‡>0.3
3. **åˆ†ç»„å•è°ƒæ€§**: ç»„1 > ç»„2 > ç»„3 > ç»„4 > ç»„5
4. **å¤šç©ºå¤æ™®**: ç›®æ ‡>0.3
5. **ç›¸å¯¹åŸºå‡†**: ç›®æ ‡>0

### å‘¨åº¦æ£€æŸ¥
- æ»šåŠ¨3ä¸ªæœˆè¶…é¢æ”¶ç›Š
- å› å­ç¨³å®šæ€§ï¼ˆICè‡ªç›¸å…³ï¼‰
- æ¢æ‰‹ç‡æ°´å¹³
- æœ€å¤§å›æ’¤

### æœˆåº¦å¤ç›˜
- åˆ†ç»„è¡¨ç°å›é¡¾
- å› å­ICè¡°å‡æƒ…å†µ
- å¸‚åœºé£æ ¼å˜åŒ–
- ç­–ç•¥é€‚é…æ€§è¯„ä¼°

---

## ğŸ“ æ€»ç»“

### æ ¸å¿ƒé—®é¢˜
1. **åˆ†ç»„é€»è¾‘é”™è¯¯**: å¯¼è‡´ç­–ç•¥æ ¸å¿ƒå¤±æ•ˆ
2. **å› å­å¤„ç†ç¼ºå¤±**: æœªæ ‡å‡†åŒ–å’Œä¸­æ€§åŒ–
3. **é£æ ¼ä¸¥é‡é”™é…**: ä¸å¸‚åœºæ–¹å‘å®Œå…¨ç›¸å
4. **æ•°æ®è´¨é‡**: æ¢æ‰‹ç‡æ•°æ®å¼‚å¸¸

### ä¼˜åŒ–ä¼˜å…ˆçº§
**P0 (ç«‹å³ä¿®å¤)**:
- ä¿®å¤åˆ†ç»„é€»è¾‘
- ä¿®å¤æ¢æ‰‹ç‡è®¡ç®—
- å› å­æ ‡å‡†åŒ–

**P1 (å¼ºçƒˆæ¨è)**:
- å› å­æƒé‡ä¼˜åŒ–
- è¡Œä¸šä¸­æ€§åŒ–
- è°ƒä»“è§„åˆ™ä¼˜åŒ–

**P2 (å¯é€‰å¢å¼º)**:
- æ­¢æŸæœºåˆ¶
- åŠ¨æ€ä»“ä½
- é£æ ¼æ‹©æ—¶

### é¢„æœŸç»“æœ
ç»è¿‡ä¼˜åŒ–åï¼Œç­–ç•¥æœ‰æœ›å®ç°:
- å¹´åŒ–æ”¶ç›Š: 8-12%
- å¤æ™®æ¯”ç‡: 0.5-0.8
- æœ€å¤§å›æ’¤: <10%
- ç›¸å¯¹åŸºå‡†: æ­£è¶…é¢

---

**æŠ¥å‘Šç”Ÿæˆæ—¶é—´**: 2025-01-01
**åˆ†æå·¥å…·**: Python 3.10, Pandas, NumPy
**æ•°æ®æ¥æº**: MySQLæ•°æ®åº“ï¼ˆdaily_klineè¡¨ï¼‰
**å›æµ‹å¹³å°**: è‡ªç ”å›æµ‹æ¡†æ¶

---

## é™„å½•

### A. å…³é”®ä»£ç ç‰‡æ®µ

#### 1. ä¿®æ­£åçš„è°ƒä»“é€»è¾‘
```python
def get_nearest_trading_day(self, target_date: str) -> str:
    """è·å–æœ€è¿‘äº¤æ˜“æ—¥ï¼ˆåŒå‘æŸ¥æ‰¾ï¼‰"""
    # æ£€æŸ¥æ˜¯å¦ä¸ºäº¤æ˜“æ—¥
    sql_check = "SELECT trade_date FROM daily_kline WHERE trade_date = %s"
    data_check = db.execute_query(sql_check, (target_date,))
    if data_check:
        return target_date

    # å‘å‰æŸ¥æ‰¾
    sql_prev = "SELECT trade_date FROM daily_kline WHERE trade_date < %s ORDER BY trade_date DESC LIMIT 1"
    data_prev = db.execute_query(sql_prev, (target_date,))

    # å‘åæŸ¥æ‰¾
    sql_next = "SELECT trade_date FROM daily_kline WHERE trade_date > %s ORDER BY trade_date ASC LIMIT 1"
    data_next = db.execute_query(sql_next, (target_date,))

    # é€‰æ‹©æœ€è¿‘çš„
    if data_prev and data_next:
        prev_date = data_prev[0]['trade_date']
        next_date = data_next[0]['trade_date']
        target_dt = datetime.strptime(target_date, '%Y%m%d')
        prev_dt = datetime.strptime(prev_date, '%Y%m%d')
        next_dt = datetime.strptime(next_date, '%Y%m%d')

        prev_dist = (target_dt - prev_dt).days
        next_dist = (next_dt - target_dt).days

        return prev_date if prev_dist <= next_dist else next_date
    elif data_prev:
        return data_prev[0]['trade_date']
    elif data_next:
        return data_next[0]['trade_date']
    else:
        raise ValueError("æ— æ³•æ‰¾åˆ°äº¤æ˜“æ—¥")
```

#### 2. å› å­æ ‡å‡†åŒ–ä¸ä¸­æ€§åŒ–
```python
def process_factors(df, industry):
    """å› å­é¢„å¤„ç†"""
    factors = ['alpha_peg', 'alpha_010', 'alpha_038', 'alpha_120cq', 'cr_qfq', 'alpha_pluse']

    for factor in factors:
        # 1. å»æå€¼ï¼ˆ3å€æ ‡å‡†å·®ï¼‰
        median = df[factor].median()
        mad = (df[factor] - median).abs().median()
        df[factor] = np.clip(df[factor], median - 3*mad, median + 3*mad)

        # 2. æ ‡å‡†åŒ–
        df[factor] = (df[factor] - df[factor].mean()) / df[factor].std()

        # 3. è¡Œä¸šä¸­æ€§åŒ–
        industry_median = df.groupby(industry)[factor].transform('median')
        df[factor] = df[factor] - industry_median

    return df
```

#### 3. åŠ¨æ€æƒé‡åˆ†é…
```python
def calculate_dynamic_weights(factor_icir):
    """åŸºäºICIRåŠ¨æ€åˆ†é…æƒé‡"""
    # è¿‡æ»¤ä½è´¨é‡å› å­
    valid_factors = {k: v for k, v in factor_icir.items() if v > 0.1}

    # å½’ä¸€åŒ–
    total = sum(valid_factors.values())
    weights = {k: v/total for k, v in valid_factors.items()}

    return weights

# ç¤ºä¾‹
factor_icir = {
    'alpha_peg': 0.15,
    'alpha_010': 0.08,
    'alpha_038': 0.20,
    'alpha_120cq': 0.05,
    'cr_qfq': 0.12,
    'alpha_pluse': 0.03
}

weights = calculate_dynamic_weights(factor_icir)
# ç»“æœ: {'alpha_peg': 0.28, 'alpha_038': 0.38, 'cr_qfq': 0.23, 'alpha_010': 0.11}
```

### B. å‚è€ƒèµ„æ–™

1. **å› å­æŠ•èµ„ç†è®º**:
   - ã€Šå› å­æŠ•èµ„ï¼šæ–¹æ³•ä¸å®è·µã€‹
   - ã€ŠQuantitative Equity Portfolio Managementã€‹

2. **å› å­æ ‡å‡†åŒ–æ–¹æ³•**:
   - Z-scoreæ ‡å‡†åŒ–
   - åˆ†ä½æ•°æ ‡å‡†åŒ–
   - Winsorizationå»æå€¼

3. **è¡Œä¸šä¸­æ€§åŒ–**:
   - Barraé£é™©æ¨¡å‹
   - è¡Œä¸šå› å­ä¸­æ€§åŒ–

4. **ICä¼˜åŒ–**:
   - å› å­ICIRè®¡ç®—
   - å› å­è¡°å‡åˆ†æ
   - å› å­ç»„åˆä¼˜åŒ–

---

**æŠ¥å‘Šç»“æŸ**

*æœ¬æŠ¥å‘ŠåŸºäº20240601-20251130å›æµ‹æ•°æ®ç”Ÿæˆï¼Œä»…ä¾›å‚è€ƒ*
