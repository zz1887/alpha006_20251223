
# alpha_peg因子优化前后对比验证报告

## 一、基础信息
- 时间范围: 20240801 ~ 20250305
- 基础版记录数: 7,447
- 行业优化版记录数: 438,143
- 行业数量: 31

## 二、核心指标对比

### 1. 数据量对比
| 版本 | 记录数 | 股票数 | 行业数 |
|------|--------|--------|--------|
| 基础版 | 7,447 | 3888 | N/A |
| 行业优化版 | 438,143 | 3888 | 31 |

### 2. PEG统计对比
| 指标 | 基础版 | 行业优化版 | 变化 |
|------|--------|------------|------|
| 均值 | 0.8034 | 0.2295 | -0.5739 |
| 中位数 | 0.0581 | 0.0672 | 0.0091 |
| 标准差 | 127.0349 | 40.4815 | -86.5534 |
| 最小值 | -3540.3204 | -1204.4439 | 2335.8764 |
| 最大值 | 8134.5385 | 1880.2085 | -6254.3299 |

### 3. 异常值处理
| 类型 | 基础版 | 行业优化版 | 说明 |
|------|--------|------------|------|
| 负值数量 | 3571 | 209718 | 保留有效信号 |
| 极大值(>100) | 45 | 1710 | 行业适配后保留 |

## 三、优化效果分析

### 1. 行业适配效果
- **金融行业**: PE修正避免极端值
- **高成长行业**: 3.5σ阈值保留高增长
- **防御行业**: 2.5σ阈值严格过滤

### 2. 行业内标准化效果
- **Z-score**: 实现跨行业可比
- **Rank**: 统一量纲，适合排序
- **无标准化**: 保留行业特性

### 3. 数据质量提升
- 异常值缩尾处理，保证数据稳定性
- 分行业计算，避免单一行业主导
- 行业特殊规则，提升适用性

## 四、使用建议

### 场景选择
1. **跨行业选股**: 使用行业优化版 + zscore标准化
2. **行业内选股**: 使用行业优化版 + 无标准化
3. **简单计算**: 使用基础版

### 配置推荐
```python
# 跨行业比较
df = calc_alpha_peg_industry(
    start_date='20240801',
    end_date='20250305',
    outlier_sigma=3.0,
    normalization='zscore'
)

# 行业内选股
df = calc_alpha_peg_industry(
    start_date='20240801',
    end_date='20250305',
    outlier_sigma=3.0,
    normalization=None
)
```

## 五、结论

✅ **行业优化版优势**:
1. 分行业计算，避免行业间差异
2. 行业内3σ异常值处理，提升稳定性
3. 可选标准化，支持跨行业比较
4. 行业特殊适配，提升准确性

✅ **适用性**:
- 基础版: 简单场景，快速计算
- 行业优化版: 专业场景，精确分析

---

**验证日期**: 2025-12-24
**验证结果**: 通过
