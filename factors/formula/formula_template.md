# 因子公式模板

## 基本信息
- **因子代码**: [factor_code]
- **因子名称**: [factor_name]
- **因子类型**: [factor_type]
- **版本**: [version]
- **更新日期**: [update_date]

## 数学公式
```
[数学公式 - LaTeX格式]
```

## 参数定义
| 参数名 | 类型 | 默认值 | 说明 |
|--------|------|--------|------|
| param1 | type | default | description |
| param2 | type | default | description |

## 计算逻辑
1. **数据获取**: [获取哪些数据]
2. **预处理**: [数据清洗和转换]
3. **核心计算**: [公式实现步骤]
4. **异常值处理**: [缩尾/截断/跳过]
5. **标准化**: [zscore/rank/None]

## 因子含义
[详细解释因子的经济含义和投资逻辑]

## 适用场景
- **市场环境**: [牛市/熊市/震荡市]
- **投资风格**: [价值/成长/动量/反转]
- **持有周期**: [短线/中线/长线]
- **风险偏好**: [保守/平衡/激进]

## 数据要求
| 数据项 | 表名 | 字段名 | 必需 | 更新频率 |
|--------|------|--------|------|----------|
| 数据1 | table1 | field1 | ✅ | daily |
| 数据2 | table2 | field2 | ✅ | quarterly |

## 异常值处理策略
| 异常类型 | 处理方式 | 触发条件 | 理由 |
|----------|----------|----------|------|
| 空值 | 跳过 | isna() | 无法计算 |
| 极大值 | 缩尾 | > 均值 + 3σ | 避免异常值影响 |
| 零值 | 替换 | = 0 | 防止除零错误 |

## 版本差异
| 版本 | 参数配置 | 适用场景 | 说明 |
|------|----------|----------|------|
| standard | 默认参数 | 通用 | 基础版本 |
| conservative | 严格筛选 | 保守投资 | 更低风险 |
| aggressive | 宽松筛选 | 激进投资 | 更高收益 |

## 代码示例
```python
from factors import FactorRegistry

# 创建因子
factor = FactorRegistry.get_factor('factor_code', version='standard')

# 计算因子值
result = factor.calculate(data)

# 查看统计
stats = factor.get_factor_stats(result)
print(stats)
```

## 评估指标
| 指标 | 目标值 | 说明 |
|------|--------|------|
| IC均值 | > 0.05 | 信息系数 |
| ICIR | > 0.5 | 信息比率 |
| 分组收益差 | > 0.5% | 最大分组差 |
| 换手率 | < 0.8 | 交易成本控制 |

## 参考文献
1. [文献1]
2. [文献2]
3. [相关论文]

## 注意事项
- [重要提醒1]
- [重要提醒2]
- [常见陷阱]

---

**文档版本**: v1.0
**维护者**: [维护者]
**审核状态**: [待审核/已审核]